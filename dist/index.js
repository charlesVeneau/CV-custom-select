"use strict";var e=require("react");!function(e,t){void 0===t&&(t={});var l=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===l&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".relativeBlock,.selectCustom,.selectCustom-trigger,.selectNative{height:100%;position:relative;width:100%}.selectLabel{display:block;text-transform:capitalize}.selectCustom{display:none;left:0;position:absolute;top:0;z-index:20}.selectCustom-opts{list-style:none;margin-bottom:2rem;margin-top:.5rem;overflow-x:hidden;overflow-y:scroll;padding-left:0}.selectCustom-opts.isVisible{display:block}.selectCustom-opts.isHidden{display:none}.selectCustom-opt{cursor:pointer;padding:4px 0 4px 5px}.isActive{background-color:#2d86b6;color:#fff}@media (hover:hover){.selectNative:focus+.selectCustom{display:none}.selectCustom{display:block}}");exports.Select=({handleChange:t,data:l,name:a})=>{let[o,s]=e.useState(!1),[n,i]=e.useState(!1),[r,c]=e.useState(""),[d,u]=e.useState(0);const m=e.useRef(null),p=l.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}));function v(e,l){let o="";"click"===l?o="LI"===e.target.nodeName?e.target.getAttribute("data-value"):e.target.value:"enter"===l&&(o="LI"===e.nodeName?e.getAttribute("data-value"):"NULL"),"NULL"===o?(i(!0),c(null),t(null,a)):(i(!1),c(o),t(o,a)),s(!1),document.removeEventListener("keydown",y),document.removeEventListener("mousedown",y)}function f(e){"down"===e&&d<p.length&&u((()=>d++)),"up"===e&&d>0&&u((()=>d--))}function b(e){e?(document.addEventListener("keydown",y),document.addEventListener("mouseup",y)):(document.removeEventListener("keydown",y),document.removeEventListener("mouseup",y))}function y(e){if(e.preventDefault(),"Escape"===e.key)g();else if("ArrowDown"===e.key)f("down"),k().scrollIntoView({block:"center"});else if("ArrowUp"===e.key)f("up"),k().scrollIntoView({block:"center"});else if("Enter"===e.key)d>=0&&v(k(),"enter");else if("mouseup"===e.type)e.target.parentNode.getAttribute("aria-hidden")&&"true"!==e.target.parentNode.getAttribute("aria-hidden")||g();else if(/^[a-zA-Zàâçéèêëîïôûùüÿñæœ]{1,}$/.test(e.key)){const t=l.map((e=>e.label.toLowerCase()[0])).indexOf(e.key.toLowerCase());t>=0&&(u((()=>t)),document.querySelector(`li[data-active="${t}"]`).scrollIntoView({block:"center"}))}}function k(){return m.current.querySelector("li.isActive")}function g(){s((()=>!1)),u((()=>0)),b(!1)}return e.createElement("div",{className:"relativeBlock"},e.createElement("label",{htmlFor:a,className:"selectLabel"},a),e.createElement("div",{className:"relativeBlock"},e.createElement("select",{id:a,"aria-labelledby":a,className:"selectNative js-selectNative select "+(n?"hasError":"neutral"),onChange:e=>v(e,"click"),value:r},p.map((t=>e.createElement("option",{key:t.abbrev,value:t.abbrev},t.label)))),e.createElement("div",{className:"selectCustom","aria-hidden":o?"false":"true"},e.createElement("div",{className:"selectCustom-trigger",onClick:function(e){const t=!o;s(!o),b(t)}}),e.createElement("ul",{ref:m,className:"selectCustom-opts "+(o?"isVisible":"isHidden")},p.map(((t,l)=>e.createElement("li",{key:l,"data-active":l,"data-value":t.abbrev,className:"selectCustom-opt "+(l===d?"isActive":""),onClick:e=>v(e,"click")},t.label)))))))};
